<odoo>
      <record id="zf_view_move_form_inherit" model="ir.ui.view">
        <field name="name">.zf.account.move.form.inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='invoice_date']" position="after">
              <field name="reservation_date" readonly="1"/>
              <field name="payment_due_date_in_case_of_default" readonly="1"/>
              <field name="stripe_refund_ids" readonly="1" invisible="1"/>
            </xpath>

            <xpath expr="//field[@name='partner_id']" position="after">
              <field name="wordpress_reservation_id" readonly="1"/>
            </xpath>

            <xpath expr="//button[@name='action_reverse']" position="after">
              <button name="invoice_refund.action_refund_invoice_wizard" 
                      string="Reembolso" 
                      type="action" 
                      class="btn-primary"
                      attrs="{'invisible': ['|', '|', ('payment_state', 'not in', ['paid', 'stripe_refund']), ('state', '=', 'draft'), ('move_type', '!=', 'out_invoice')]}"/>
            </xpath>

            <xpath expr="//button[@name='action_reverse']" position="attributes">
              <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//sheet/widget[@name='web_ribbon']" position="after">
              <widget name="web_ribbon" 
                      bg_color="bg-danger" 
                      title="Reembolso Stripe"
                      attrs="{'invisible': [('payment_state', '!=', 'stripe_refund')]}"/>
            </xpath>

            <xpath expr="//div[hasclass('oe_button_box')]" position="inside">
                <button name="action_view_stripe_refunds" 
                        type="object" 
                        class="oe_stat_button" 
                        icon="fa-rotate-left"
                        attrs="{'invisible': [('stripe_refund_count', '=', 0)]}">
                    <field name="stripe_refund_count" widget="statinfo" string="Reembolsos"/>
                        </button>
            </xpath>
        </field>
      </record>

      <record id="zf_view_account_invoice_filter_inherit" model="ir.ui.view">
        <field name="name">zf.account.invoice.filter.inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_invoice_tree"/>
        <field name="arch" type="xml">
          <xpath expr="//field[@name='invoice_date']" position="after">
            <field name="reservation_date" readonly="1"/>
            <field name="payment_due_date_in_case_of_default" readonly="1"/>
          </xpath>

          <xpath expr="//field[@name='invoice_partner_display_name']" position="after">
            <field name="wordpress_reservation_id" readonly="1"/>
          </xpath>

          <xpath expr="//field[@name='payment_state']" position="attributes">
            <attribute name="decoration-danger">payment_state in ('not_paid', 'stripe_refund')</attribute>
          </xpath>
        </field>
      </record>
</odoo>